INFO: 06/09/2018 03:19:29 web
INFO: hdfs dfs -rm -r /user/hadoop/upload/data_out/2/libsvm_data_pca_0.9
rm: `/user/hadoop/upload/data_out/2/libsvm_data_pca_0.9': No such file or directory
INFO: PCAed hdfs file by threshold at  /home/django/myml/media/result
INFO: Invoke Spark: /home/hadoop/spark_latest/bin/spark-submit ml/pca_skLearn.py -f /user/hadoop/upload/data_out/2 -o /home/django/myml/media/result -r 2 -sp spark://master:7077 -w 1 -pm {"lib":"scikit","threshold":0.9} -dsid 2
Picked up _JAVA_OPTIONS: -Xmx1g
Picked up _JAVA_OPTIONS: -Xmx1g
18/06/09 03:19:31 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
INFO: zip_file_path= ./ml/pca_scikit.zip
INFO: libsvm_data_file= /user/hadoop/upload/data_out/2/libsvm_data
INFO: feature_count= 4
INFO: features_array.shape= (150, 4)
INFO: true_label_array.shape= (150,)
INFO: hash_list_all.shape= (150,)
INFO: Doing PCA... threshold= 0.9 ,k= None
INFO: X_tr.shape= (150, 2)
INFO: sklearn_PCA_transform: n_components = 1 , threshold= 0.9
RESULT: PCA ratio_vec= [0.87796208 0.06945716]
INFO: sklearn_PCA_transform: X_reduced.shape= (150, 1)
INFO: features_array_reduced.shape (150, 1) ,k= 1
INFO: pca model file at /home/django/myml/media/result/2/2_model/2_pca_0.9.pkl
INFO: target local pca_libsvm_filename= /home/django/myml/media/result/2/libsvm_data_pca_1
INFO: target HDFS libsvm_data_pca= /user/hadoop/upload/data_out/2/libsvm_data_pca_0.9
Picked up _JAVA_OPTIONS: -Xmx1g
INFO: HDFS file libsvm_data_pca_0.9 uploaded!
INFO: PCA processing time: 3.474922
INFO: pca_param= {u'threshold': 0.9, 'k': 1, u'lib': u'scikit'}
INFO: Upsert count for pca_param= 1
INFO: PCA done! SQL update ret= 1
INFO: running time: 3.481643
INFO: PCA done!! ret=0
INFO: 06/09/2018 03:19:37 web
